<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>OD_DUE INDEM</name>
    <description />
    <extended_description />
    <trans_version />
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection />
        <schema />
        <table />
        <size_limit_lines />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject />
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject />
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject />
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject />
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject />
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection />
        <schema />
        <table />
        <interval />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection />
        <schema />
        <table />
        <timeout_days />
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection />
      <table />
      <field />
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file />
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2018/06/18 10:58:44.426</created_date>
    <modified_user>-</modified_user>
    <modified_date>2018/06/18 10:58:44.426</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>sahayogi_test</name>
    <server>192.168.82.39</server>
    <type>MSSQLNATIVE</type>
    <access>Native</access>
    <database>PPIVSahayogiVBL</database>
    <port>1433</port>
    <username>dbaral</username>
    <password>Encrypted 2be98afc86aa7f2e4a918bc71d2c3fd89</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>MSSQLUseIntegratedSecurity</code>
        <attribute>false</attribute>
      </attribute>
      <attribute>
        <code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>1433</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Table input</from>
      <to>OD_INDEM_DUE</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>OD_INDEM_DUE</name>
    <type>TextFileOutput</type>
    <description />
    <distribute>Y</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <separator />
    <enclosure>"</enclosure>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding>windows-1252</encoding>
    <endedLine />
    <fileNameInField>N</fileNameInField>
    <fileNameField />
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>G:\CITIZEN\OUTPUT\Casa_Od\OD_DUE\OD_INDEM_DUE</name>
      <is_command>N</is_command>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>TXT</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format />
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>Y</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>foracid</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>16</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>tran_crncy_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>3</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>sol_id</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>8</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>part_tran_type</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>tran_amt</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>right</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>tran_particular</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>30</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>rpt_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>ref_num</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>20</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>instrmnt_type</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>instrmnt_date</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>10</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>instrmnt_alpha</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>6</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>instrmnt_num</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>16</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>navigation_flg</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>ref_amt</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>ref_crncy_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>3</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>rate_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>rate</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>15</length>
        <precision>6</precision>
      </field>
      <field>
        <name>value_date</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>10</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>gl_date</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>10</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>category_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>bank_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>6</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>br_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>6</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>advc_to_from_extn_cntr_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>2</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>bar_advc_gen_ind</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>bar_or_advc_num</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>12</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>bar_or_advc_date</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>10</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>bill_num</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>20</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>hdr_text_code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>hdr_free_text</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>30</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>particulars_1</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>40</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>particulars_2</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>40</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>particulars_3</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>40</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>particulars_4</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>40</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>particulars_5</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>40</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>amt_line_1</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>amt_line_2</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>amt_line_3</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>amt_line_4</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>amt_line_5</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>17</length>
        <precision>2</precision>
      </field>
      <field>
        <name>remarks</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>30</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>payee_acct</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>16</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>rcvd_bar_or_advc_num</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>12</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>rcvd_bar_or_advc_date</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>10</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>Original_Transaction_Date</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>10</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>Original_Transaction_ID</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>9</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>Original_Part_Transaction_Serial_Number</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>4</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>iban_number</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>256</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>entity_id</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>16</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>b2k_id</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>b2k_type</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>Tran_Particular_Code</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>5</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>Particulars_2_FreeText</name>
        <type>String</type>
        <format />
        <currency />
        <decimal />
        <group />
        <nullif />
        <trim_type>both</trim_type>
        <length>50</length>
        <precision>-1</precision>
      </field>
    </fields>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>544</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description />
    <distribute>N</distribute>
    <custom_distribution />
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name />
    </partitioning>
    <connection>sahayogi_test</connection>
    <sql>use PPIVSahayogiVBL
--cs002

Declare @MigDate date, @v_MigDate nvarchar(15),@v_StatusDate nvarchar(15)
set @MigDate = (select Today from ControlTable);
set @v_MigDate=REPLACE(REPLACE(CONVERT(VARCHAR,@MigDate,105), ' ','-'), ',','')
set @v_StatusDate = REPLACE(CONVERT(VARCHAR,(select Today-1 from ControlTable),105), ' ','-')

 
--TEMP TABLE
IF OBJECT_ID('tempdb.dbo.#loan_temp', 'U') IS NOT NULL
  DROP TABLE #loan_temp;

select * into #loan_temp from
(

select 
BranchCode,
ReferenceNo,
Flow_ID,
IntOverDues as flow_amt_indem,
dmd_date 
from FINMIG.dbo.PastDue where Flow_ID not in ('PRDEM','PIDEM')
and ReferenceNo not in (select MainCode from Master where IntDrAmt &lt;= 0)
AND ReferenceNo not in (
select MainCode from FINMIG.dbo.OD_OVERDUE_GREATER where FLOWID='INDEM' and ReferenceNo not in (select MainCode from Master where IntDrAmt &lt;= 0))

UNION ALL

select 
BranchCode,
t1.ReferenceNo,
Flow_ID,
sum(IntOverDues)+CAST(diffint AS NUMERIC(17,2)) as flow_amt_indem,
max(dmd_date) dmd_date
from FINMIG.dbo.PastDue t1 join 
FINMIG.dbo.OD_OVERDUE_GREATER t2 on t1.ReferenceNo=t2.MainCode
where Flow_ID not in ('PRDEM','PIDEM') 
and MainCode not in (select MainCode from Master where IntDrAmt &lt;= 0)
AND FLOWID='INDEM'
group by BranchCode,t1.ReferenceNo,Flow_ID,diffint)x

--main Query
select 
	 m.F_SolId+m.CyCode+o.BACID AS foracid
	,ct.CyDesc AS tran_crncy_code
	,m.F_SolId AS sol_id
	,CASE WHEN sum(flow_amt_indem)>0 THEN 'D' ELSE 'C' END AS part_tran_type
	,right(space(17)+cast(cast(sum(abs(flow_amt_indem)) as numeric(14,2))as varchar(17)),17) AS tran_amt
	,p.ReferenceNo +' '+o.NAME_OF_PRODUCT AS tran_particular
	,'' AS rpt_code
	,'' AS ref_num
	,'' AS instrmnt_type
	,'' AS instrmnt_date
	,'' AS instrmnt_alpha
	,'' AS instrmnt_num
	,'' AS navigation_flg
	, '' AS ref_amt
	--,'NPR' AS ref_crncy_code
	, '' AS ref_crncy_code
	--,'MID'  AS rate_code
	,''  AS rate_code
		,'' AS rate
	,CONVERT(VARCHAR(10),@MigDate,105) AS value_date
	--,'15-05-2018' AS value_date
	,CONVERT(VARCHAR(10),@MigDate,105) AS gl_date
	,'' AS category_code
	,'' AS bank_code
	,'' AS br_code
	,'' AS advc_to_from_extn_cntr_code
	,'' AS bar_advc_gen_ind
	,'' AS bar_or_advc_num
	,'' AS bar_or_advc_date
	,'' AS bill_num
	,'' AS hdr_text_code
	, p.ReferenceNo + ' '+ o.NAME_OF_PRODUCT AS hdr_free_text
	,'' AS particulars_1
	,'' AS particulars_2
	,'' AS particulars_3 
	,'' AS particulars_4
	,'' AS particulars_5
	,'' AS amt_line_1
	,'' AS amt_line_2
	,'' AS amt_line_3
	,'' AS amt_line_4
	,'' AS amt_line_5
	--,case when partition_acc is null then '' else partition_acc end AS remarks
	--,f.foracid AS remarks
	, m.ForAcid AS remarks
	,'' AS payee_acct
	,'' AS rcvd_bar_or_advc_num
	,'' AS rcvd_bar_or_advc_date
	,'' AS Original_Transaction_Date
	,'' AS Original_Transaction_ID  
	,'' AS Original_Part_Transaction_Serial_Number 
	,'' AS iban_number
	--,f.foracid AS entity_id
	,  m.ForAcid   AS entity_id
	,'ACCNT' as b2k_id
	,'' AS b2k_type
	,'' AS Tran_Particular_Code 
	,'' AS Particulars_2_FreeText
from FINMIG.dbo.ForAcidOD m join #loan_temp p
on m.MainCode=p.ReferenceNo
join FINMIG.dbo.OD_DUE o on m.F_SCHEME_CODE=o.SCHM_CODE
join CurrencyTable ct on m.CyCode=ct.CyCode
where 1=1 --and m.MainCode = '00500100052004000001'
and p.Flow_ID not in ('PRDEM')
and o.FLAG='INDEM'
and flow_amt_indem&lt;&gt;0
group by p.ReferenceNo,m.ForAcid,ct.CyDesc,o.BACID, F_SolId,m.CyCode,o.NAME_OF_PRODUCT

union all

select  
 
	m.F_SolId+m.CyCode+o.MIGRA AS foracid
	,ct.CyDesc AS tran_crncy_code
	,m.F_SolId AS sol_id
	,CASE WHEN sum(flow_amt_indem)>0 THEN 'C' ELSE 'D' END AS part_tran_type
	,right(space(17)+cast(cast(sum(abs(flow_amt_indem)) as numeric(14,2))as varchar(17)),17) AS tran_amt
	,p.ReferenceNo +' '+o.NAME_OF_PRODUCT AS tran_particular
	,'' AS rpt_code
	,'' AS ref_num
	,'' AS instrmnt_type
	,'' AS instrmnt_date
	,'' AS instrmnt_alpha
	,'' AS instrmnt_num
	,'' AS navigation_flg
	, '' AS ref_amt
	--,'NPR' AS ref_crncy_code
	, '' AS ref_crncy_code
	--,'MID'  AS rate_code
	,''  AS rate_code
		,'' AS rate
	,CONVERT(VARCHAR(10),@MigDate,105) AS value_date
	--,'15-05-2018' AS value_date
	,CONVERT(VARCHAR(10),@MigDate,105) AS gl_date
	,'' AS category_code
	,'' AS bank_code
	,'' AS br_code
	,'' AS advc_to_from_extn_cntr_code
	,'' AS bar_advc_gen_ind
	,'' AS bar_or_advc_num
	,'' AS bar_or_advc_date
	,'' AS bill_num
	,'' AS hdr_text_code
	, p.ReferenceNo + ' '+ o.NAME_OF_PRODUCT AS hdr_free_text
	,'' AS particulars_1
	,'' AS particulars_2
	,'' AS particulars_3 
	,'' AS particulars_4
	,'' AS particulars_5
	,'' AS amt_line_1
	,'' AS amt_line_2
	,'' AS amt_line_3
	,'' AS amt_line_4
	,'' AS amt_line_5
	--,case when partition_acc is null then '' else partition_acc end AS remarks
	--,f.foracid AS remarks
	, m.ForAcid AS remarks
	,'' AS payee_acct
	,'' AS rcvd_bar_or_advc_num
	,'' AS rcvd_bar_or_advc_date
	,'' AS Original_Transaction_Date
	,'' AS Original_Transaction_ID  
	,'' AS Original_Part_Transaction_Serial_Number 
	,'' AS iban_number
	--,f.foracid AS entity_id
	,  ''   AS entity_id
	,'' as b2k_id
	,'' AS b2k_type
	,'' AS Tran_Particular_Code 
	,'' AS Particulars_2_FreeText
from FINMIG.dbo.ForAcidOD m join #loan_temp p
on m.MainCode=p.ReferenceNo
join FINMIG.dbo.OD_DUE o on m.F_SCHEME_CODE=o.SCHM_CODE
join CurrencyTable ct on m.CyCode=ct.CyCode
where 1=1 --and m.MainCode = '00504300063172000002'
and p.Flow_ID not in ('PRDEM')
and o.FLAG='INDEM'
and flow_amt_indem&lt;&gt;0
--and MainCode = '00500100052004000001'
group by p.ReferenceNo,m.ForAcid,ct.CyDesc,o.MIGRA, F_SolId,m.CyCode,o.NAME_OF_PRODUCT
order by remarks,part_tran_type
</sql>
    <limit />
    <lookup />
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <cluster_schema />
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>320</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
</transformation>
